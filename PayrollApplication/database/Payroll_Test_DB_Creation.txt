DROP SCHEMA IF EXISTS Payroll_Test;

CREATE SCHEMA Payroll_Test;

USE Payroll_Test;

CREATE TABLE Employee
    (Id int NOT NULL AUTO_INCREMENT,
    First_Name varchar(20) CHARACTER SET utf8 NOT NULL,
    Last_Name varchar(20) CHARACTER SET utf8 NOT NULL,
    Phone_Num varchar(20) CHARACTER SET utf8,
    PRIMARY KEY (Id));

CREATE TABLE Hourly_Employee
    (Emp_Id int NOT NULL,
    Rate int NOT NULL,
    PRIMARY KEY (Emp_Id),
    FOREIGN KEY (Emp_Id) REFERENCES Employee(Id)
		ON DELETE CASCADE ON UPDATE CASCADE);

CREATE TABLE Salary_Employee
    (Emp_Id int NOT NULL,
    Base_Salary int NOT NULL,
    PRIMARY KEY (Emp_Id),
    FOREIGN KEY (Emp_Id) REFERENCES Employee(Id)
		ON DELETE CASCADE ON UPDATE CASCADE);

CREATE TABLE Pay_Period
    (Id int NOT NULL AUTO_INCREMENT,
    Start_Date date NOT NULL,
    End_Date date NOT NULL,
    PRIMARY KEY (Id));

CREATE TABLE Timecard
    (Emp_Id int NOT NULL,
    Period_Id int NOT NULL,
    Regular_Hours int,
    Overtime_Hours int,
    Bonus_Pay int,
    Other_Pay int,
    PRIMARY KEY (Emp_Id, Period_Id),
    FOREIGN KEY (Emp_Id) REFERENCES Employee(Id)
		ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY (Period_Id) REFERENCES Pay_Period(Id)
		ON DELETE CASCADE ON UPDATE CASCADE);